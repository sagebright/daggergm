#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# ğŸ¯ DaggerGM Pre-Commit Validation
# Runs fast checks before allowing commit

echo "ğŸ” Running pre-commit checks..."

# 1. Lint staged files (fast)
npx lint-staged

# 2. Type check (critical for TypeScript)
echo "ğŸ“˜ Type checking..."
npx tsc --noEmit || {
  echo "âŒ Type errors found. Fix before committing."
  exit 1
}

# 3. Run affected tests (Vitest watch mode handles this)
# Skip in pre-commit for speed - CI will catch issues

echo "âœ… Pre-commit checks passed!"
